<form #newBookForm="ngForm" (ngSubmit)="submit(newBookForm, onSubmit)" class="mt-3">
    <div class="w-50">
        <div>
            <h3>Add new book</h3>
            <hr>
        </div>
        <div class="input-group">
            <span for="bookTitle" class="input-group-text">Title:</span>
            <input type="text" name="bookTitle" class="form-control fit-content" #bookTitle="ngModel"
                [(ngModel)]="title" required>
        </div>
        <div class="mt-2 alert alert-danger" *ngIf="bookTitle.invalid && (bookTitle.touched || bookTitle.dirty)">
            <div *ngIf="bookTitle.errors.required">
                Title is required
            </div>
        </div>

        <div class="input-group mt-2">
            <span class="input-group-text">Author:</span>
            <input type="text" name="bookAuthor" class="form-control fit-content" #bookAuthor="ngModel"
                [(ngModel)]="author" required>
        </div>
        <div *ngIf="bookAuthor.invalid && (bookAuthor.touched || bookAuthor.dirty)" class="mt-2 alert alert-danger">
            <div *ngIf="bookAuthor.errors.required">
                Author is required
            </div>
        </div>

        <div class="input-group mt-2">
            <span class="input-group-text">Genre</span>
            <select name="bookGenre" class="form-select" #bookGenre="ngModel" [(ngModel)]="genre">
                <option selected></option>
                <option *ngFor="let genre of genresList | async">{{ genre.name }}</option>
            </select>
        </div>

        <div class="input-group mt-2">
            <span class="input-group-text">Description:</span>
            <textarea type="" class="form-control" name="bookDescription" rows="30" cols="40" #bookDescription="ngModel"
                [(ngModel)]="description" required></textarea>
        </div>
        <div *ngIf="bookDescription.invalid && (bookDescription.touched || bookDescription.dirty)"
            class="mt-2 alert alert-danger">
            <div *ngIf="bookDescription.errors.required">
                Description is required
            </div>
        </div>

        <div class="d-flex flex-row-reverse">
            <button type="submit" class="btn btn-outline-primary mt-2" [disabled]="newBookForm.invalid">Submit</button>
        </div>
    </div>

</form>